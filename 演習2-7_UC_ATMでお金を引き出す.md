# ATMで「お金を引き出す」ユースケース記述
## ユースケース図
ATMで「お金を引き出す」
## 概略
銀行のATMを利用して、自分の口座からキャッシュカードで必要なお金を引き出します。
## アクター
利用者
## 事前条件
アクターが口座とキャッシュカードを持っていること。
## 事後条件
アクターの口座から指定された金額が引き出されること。
# イベントフロー
### 基本フロー
1. 利用者がATMで「お引出し」を選択するとこのユースケースは開始する。
2. 利用者はキャッシュカードを入れる。
3. システムはパスワード入力画面を表示する。
4. 利用者はパスワードを入力する。 >4桁(1)
5. システムは引出し金額入力画面を表示する。
6. 利用者は引き出す金額を入力する。(2)
7. システムは引出し金額の確認画面を表示する。
8. 利用者は確認を完了する。
9. システムは引出しを実行する。
10. 利用者が料金とキャッシュカードを受け取ったとき、このユースケースは終了する。
### 代替フロー
* 利用者は金額の確認完了前なら引出しを中止できる。
1. 利用者は引出しを中止する。
2. システムは引出しの中止を確認する。

* (1)正しいパスワードの入力ができない。
1. 利用者はパスワードを再入力するか、引出しを中止する。

* (2)引出し金額が残高を超えている。
1. 利用者は引出し金額を再入力するか、引出しを中止する。
# ユースケース名
ATMでお金を引き出す
## 基本シナリオ
* シナリオ1:引出し成功の場合
1. 利用者はお引出しを選択する。
2. 利用者はキャッシュカードを挿入する。
3. システムは4桁の暗証番号入力画面を表示する。
4. 利用者は4桁の暗証番号「1234」を入力する。
5. システムは引き出し金額入力画面を表示する。
6. 利用者は引き出し金額として「１万円」を入力する。
7. システムはお引出し確認画面を表示する。
8. 利用者は確認完了ボタンを押す。
9. システムはお金を引き渡す。
10. 利用者はお金を受け取る。
11. システムは終了する。
* シナリオ2:暗証番号再入力の場合
1. 利用者はお引出しを選択する。
2. 利用者はキャッシュカードを挿入する。
3. システムは4桁の暗証番号入力画面を表示する。
4. 利用者は間違った4桁の暗証番号「4321」を入力する。
5. システムは再度、暗証番号の入力画面を表示する。
6. 利用者は正しい暗証番号「1234」を入力する。
7. システムは引き出し金額入力画面を表示する。
8. 利用者は引き出し金額として「１万円」を入力する。
9. システムは引出し金額の確認画面を表示する。
10. 利用者は確認完了ボタンを押す。
11. システムはお金を引き渡す。
12. 利用者はお金を受け取る。
13. システムは終了する。
* シナリオ3:残高が超過していた場合
1. 利用者はお引出しを選択する。
2. 利用者はキャッシュカードを挿入する。
3. システムは4桁の暗証番号入力画面を表示する。
4. 利用者は間違った4桁の暗証番号「1234」を入力する。
5. システムは引き出し金額入力画面を表示する。
6. 利用者は引き出し金額として「10万円」を入力する。
7. 残高が「７万円」だったので、システムは再度、金額入力画面を表示する。
9. システムは引出し金額の確認画面を表示する。
10. 利用者は確認完了ボタンを押す。
11. システムはお金を引き渡す。
12. 利用者はお金を受け取る。
13. システムは終了する。
## 例外シナリオ
* 暗証番号の入力が出来なかった場合
1. 利用者はお引出しを選択する。
2. 利用者はキャッシュカードを挿入する。
3. システムは4桁の暗証番号入力画面を表示する。
4. 利用者は4桁の暗証番号を正しく入力できず、引出しキャンセルを選択する。
5. システムは終了する。

* 残高がない場合
1. 利用者はお引出しを選択する。
2. 利用者はキャッシュカードを挿入する。
3. システムは4桁の暗証番号入力画面を表示する。
4. 利用者は4桁の暗証番号「1234」を入力する。
5. システムは引き出し金額入力画面を表示する。
6. 利用者は引き出し金額を入力する。
7. 残高がないため、利用者はキャンセルを選択する。
8. システムは終了する。
